var EKMDP,EKMDP_RemoveItemAll,ekmdp;EKMDP_RemoveItemAll=function(t,s){var i;for(i=0;i<t.length;)t[i]===s?t.splice(i,1):++i;return t},(ekmdp=new(EKMDP=function(){var t,s,i,h,_,r,e,p,a,c,n,o,l,m,b;for((t=document.createElement("div")).id="_ekmdp_field",document.body.appendChild(t),t.innerHTML+="<span> Ensatone - KMD - Pseudocode (EKMDP) 1.0v <br> 2022 Yangon, Burma <br> Made by Shinn Thant Htoon@Ensatone <br> Result :  </span>",this._variables={},this._variables.break=!1,this._script="",_=0,p=(n=document.querySelectorAll("script")).length;_<p;_++)"ekmdp"!==(s=n[_]).getAttribute("type")&&"text/ekmdp"!==s.getAttribute("type")||(this._script+=s.innerHTML);for(this.__script="",this._sm=!1,this.__types={},this._stamps=[],this.__stamps={},this._if_value=!1,this._ltok=function(t,s){var i,h,_;for(this._token=t,h=0,_=s.length;h<_;h++)i=s[h],this._token=this._token.split(i).join(" "+i+" ");return this._token},this._pvar=function(t){return t},h=r=0,o=this._script.length;0<=o?r<o:r>o;h=0<=o?++r:--r)'"'===this._script[h]&&"\\"!==this._script[h-1]&&(!1===this._sm?this._sm=!0:this._sm=!1),!1===this._sm?this.__script+=this._script[h]:" "===this._script[h]?this.__script+="\\s":this.__script+=this._script[h];for(this._script=this.__script,this.__script=void 0,this._pt=0,this._script=this._script.split("\r\n").join(" ").split("\n").join(" ; ").split(" "),this.__script="",h=e=0,l=this._script.length;0<=l?e<l:e>l;h=0<=l?++e:--e)if('"'!==this._script[h].charAt(0)){for(this._scache="",i=a=0,m=this._script[h].length;0<=m?a<m:a>m;i=0<=m?++a:--a)">"===this._script[h].charAt(i)&&"="!==this._script[h].charAt(i+1)?this._scache+=">>":"<"===this._script[h].charAt(i)&&"="!==this._script[h].charAt(i+1)?this._scache+="<<":"="===this._script[h].charAt(i)&&"="!==this._script[h].charAt(i-1)&&"<"!==this._script[h].charAt(i-1)&&">"!==this._script[h].charAt(i-1)&&"="!==this._script[h].charAt(i+1)?this._scache+="=>":this._scache+=this._script[h].charAt(i);this._script[h]=this._scache,this._scache=this._ltok(this._script[h],[">=","<=",">>","<<","=>","!=","==","+","-","*","/","%","(",")"]),this._scache=this._scache.split("<<").join("<").split(">>").join(">").split("=>").join("="),this.__script+=" "+this._scache+" "}else this.__script+=this._script[h];for(this._script=this.__script.split(" "),this.__script=void 0,this._script=EKMDP_RemoveItemAll(this._script,""),h=c=0,b=this._script.length;0<=b?c<b:c>b;h=0<=b?++c:--c)'"'!==this._script[h].charAt(0)&&(this._script[h]=this._script[h].toLowerCase());return this._lex=function(){var t,s,i,h;for(h=[],t=s=0,i=this._script.length;0<=i?s<i:s>i;t=0<=i?++s:--s)("if"===this._script[t]||"while"===this._script[t])&&"end"!==this._script[t-1]||"otherwise"===this._script[t]&&"if"!==this._script[t+1]?("otherwise"===this._script[t]&&"if"!==this._script[t+1]&&(this.__stamps[this._stamps[this._stamps.length-1]]=t,this._stamps.pop()),h.push(this._stamps.push(t))):"end"!==this._script[t]&&"otherwise"!==this._script[t]||"if"!==this._script[t+1]&&"while"!==this._script[t+1]?h.push(void 0):(this.__stamps[this._stamps[this._stamps.length-1]]=t,h.push(this._stamps.pop()));return h},this._parse=function(t,s){var i,h;for(i=0,h=0,t<s.length-1?i=this._parse(t+1,s):t<s.length+1&&("("===this._script[this._pt]?(this._pt++,i=this._parse(0,s),this._pt++):void 0!==this._script[this._pt]&&(i='"'===this._script[this._pt].charAt(0)?this._script[this._pt].split("\\s").join(" ").split("\\n").join("\n").slice(1,-1):"true"===this._script[this._pt]||"false"!==this._script[this._pt]&&(isNaN(Number(this._script[this._pt].charAt(0)))?this._variables[this._pvar(this._script[this._pt])]:Number(this._script[this._pt])),this._pt++));this._script[this._pt]===s[t];)switch(s[t]){case"+":this._pt++,i+=h=this._parse(t+1,s);break;case"-":this._pt++,i-=h=this._parse(t+1,s);break;case"*":this._pt++,i*=h=this._parse(t+1,s);break;case"/":this._pt++,i/=h=this._parse(t+1,s);break;case"%":this._pt++,i%=h=this._parse(t+1,s);break;case"==":this._pt++,i=i===(h=this._parse(t+1,s));break;case"!=":this._pt++,i=i!==(h=this._parse(t+1,s));break;case"<":this._pt++,i=i<(h=this._parse(t+1,s));break;case">":this._pt++,i=i>(h=this._parse(t+1,s));break;case"<=":this._pt++,i=i<=(h=this._parse(t+1,s));break;case">=":this._pt++,i=i>=(h=this._parse(t+1,s));break;case"and":this._pt++,h=this._parse(t+1,s),i=i&&h;break;case"or":this._pt++,h=this._parse(t+1,s),i=i||h}return i},this._compile=function(s,i,h){var _,r,e,p,a;for(e=void 0,_=!1,r=["or","and",">=","<=",">","<","!=","==","+","-","*","/","%",""],p=i-1,a=[];p<h-1;){switch(s[++p]){case"as":"whole"===s[p+1]&&"number"===s[p+2]?this.__types[this._pvar(s[p-1])]="integer":"real"===s[p+1]?this.__types[this._pvar(s[p-1])]="decimal":"string"===s[p+1]?this.__types[this._pvar(s[p-1])]="string":alert("Invalid Data Type: "+s[p+1]);break;case"=":this._pt=p+1,"string"==typeof(e=this._parse(0,r))&&"string"===this.__types[this._pvar(this._script[p-1])]||"number"==typeof e&&"integer"===this.__types[this._pvar(this._script[p-1])]&&e===Math.floor(e)||"number"==typeof e&&"decimal"===this.__types[this._pvar(this._script[p-1])]||alert("Invalid Data Type Assignment: "+e),this._variables[this._pvar(this._script[p-1])]=e;break;case"if":"end"!==s[p-1]&&(this._pt=p+1,e=this._parse(0,r),this._if_value=e,e?(this._if_value=!0,p=this._pt-1):p=this.__stamps[p]-1);break;case"break":this._variables.break=!0,_=!0;break;case"continue":_=!0;break;case"while":if("end"!==s[p-1])for(;!1===this._variables.break;){if(this._pt=p+1,!0!==(e=this._parse(0,r))){p=this.__stamps[p]-1;break}this._compile(this._script,this._pt,this.__stamps[p])}this._variables.break&&(p=this.__stamps[p],this._variables.break=!1);break;case"otherwise":"if"===s[p+1]?(this._pt=p+2,e=this._parse(0,r),!0!==this._if_value&&e?(this._if_value=!0,p=this._pt-1):p=this.__stamps[p+1]-1):!0===this._if_value&&(p=this.__stamps[p]-1);break;case"output":this._pt=p+1,e=this._parse(0,r),t.innerHTML+="<p>"+e+"</p><br>";break;case"input":this._icache=prompt("Input: "+this._pvar(this._script[p+1])),"integer"===this.__types[this._pvar(this._script[p+1])]?this._icache=Math.floor(Number(this._icache)):"decimal"===this.__types[this._pvar(this._script[p+1])]?this._icache=Number(this._icache):"string"===this.__types[this._pvar(this._script[p+1])]&&(this._icache=this._icache),this._variables[this._pvar(this._script[p+1])]=this._icache}if(_)break;a.push(void 0)}return a},this}))._lex(),ekmdp._compile(ekmdp._script,0,ekmdp._script.length);
